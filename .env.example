# ============================================================
# NEXUSCORE v4.0 ENVIRONMENT CONFIGURATION
# ============================================================
# Copy this file to .env and update values for your environment
# Singapore-first B2B SaaS Platform
# ============================================================

# ============================================================
# APPLICATION SETTINGS
# ============================================================
DEBUG=True
SECRET_KEY=your-secret-key-minimum-50-characters-long-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0
SITE_URL=http://localhost:3000

# ============================================================
# DATABASE CONFIGURATION (PostgreSQL 16 REQUIRED)
# ============================================================
DB_NAME=nexuscore
DB_USER=nexuscore_user
DB_PASSWORD=nexuscore_password
DB_HOST=postgres
DB_PORT=5432

# ============================================================
# REDIS CONFIGURATION
# ============================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# ============================================================
# CELERY CONFIGURATION
# ============================================================
CELERY_TIMEZONE=Asia/Singapore
CELERY_TASK_ALWAYS_EAGER=False
CELERY_TASK_ACKS_LATE=True

# ============================================================
# AWS S3 CONFIGURATION (Singapore Region REQUIRED for PDPA)
# ============================================================
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_STORAGE_BUCKET_NAME=nexuscore-storage
AWS_S3_REGION_NAME=ap-southeast-1
AWS_S3_CUSTOM_DOMAIN=nexuscore-storage.s3.ap-southeast-1.amazonaws.com
AWS_DEFAULT_ACL=private
AWS_S3_OBJECT_PARAMETERS={"CacheControl": "max-age=86400"}

# ============================================================
# STRIPE CONFIGURATION
# ============================================================
STRIPE_PUBLIC_KEY=pk_test_your_public_key
STRIPE_SECRET_KEY=sk_test_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_API_VERSION=2024-12-18.acacia
STRIPE_WEBHOOK_PATH=/api/v1/webhooks/stripe/

# ============================================================
# EMAIL CONFIGURATION (SendGrid)
# ============================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=SG.your_sendgrid_api_key
DEFAULT_FROM_EMAIL=noreply@nexuscore.sg
SENDGRID_API_KEY=SG.your_sendgrid_api_key

# Development: Use Mailpit
# EMAIL_HOST=mailpit
# EMAIL_PORT=1025
# EMAIL_USE_TLS=False

# ============================================================
# SENTRY CONFIGURATION (Error Monitoring)
# ============================================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# ============================================================
# FRONTEND CONFIGURATION (Next.js)
# ============================================================
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_STRIPE_PUBLIC_KEY=${STRIPE_PUBLIC_KEY}
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=

# ============================================================
# SECURITY CONFIGURATION
# ============================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Production settings (enable in production)
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=SAMEORIGIN

# ============================================================
# FEATURE FLAGS
# ============================================================
FEATURE_PAYNOW_ENABLED=True
FEATURE_DEMO_MODE=False

# ============================================================
# PDPA COMPLIANCE (Singapore)
# ============================================================
PDPA_DSAR_SLA_HOURS=72
PDPA_DATA_RETENTION_DAYS=2555

# ============================================================
# GST CONFIGURATION (Singapore)
# ============================================================
GST_RATE=0.0900
GST_REGISTRATION_THRESHOLD=1000000
